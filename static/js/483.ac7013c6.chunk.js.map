{"version":3,"file":"static/js/483.ac7013c6.chunk.js","mappings":"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","sources":["components/FavoritePage/FavoritePage.style.js","components/EmptyFavoritesList/EmptyFavoritesList.seled.js","components/EmptyFavoritesList/EmptyFavoritesList.jsx","components/FavoritePage/FavoritePage.jsx","pages/Favorites.jsx"],"sourcesContent":["import color from 'common/GlobalColers'\nimport styled from 'styled-components'\n\nexport const WraperBox = styled.div`\n    display: flex;\n    align-items: center;\n    flex-direction:column; \n    background: ${color.whiteDarker};\n    min-height: 100vh;\n`\n\nexport const FavoritePageContainer = styled.div`\n    display: flex;\n    align-items: start;\n    flex-Direction: column;\n    padding:64px 128px 96px 128px;\n    max-width: 1440px;\n`","import styled from 'styled-components'\n\nexport const WrapperEmptyFavoriteList = styled.div`\n    display: flex;\n    align-items: center;\n    flex-direction:column;\n    margin: 0 auto;\n    margin-top: 30px;\n`\n\nexport const EmptyFavoriteListImg = styled.img`\n    margin-bottom: 30px;\n`\n\nexport const EmptyFavoriteListTitle = styled.h2`\n    max-width: 300px;\n    margin-bottom: 12px;\n`\n\nexport const EmptyFavoriteHeart = styled.span`\n    margin: 0 4px;\n`","import imgFavorite from '../../img/flying-hearts.png';\nimport { EmptyFavoriteHeart, EmptyFavoriteListImg, EmptyFavoriteListTitle, WrapperEmptyFavoriteList } from './EmptyFavoritesList.seled';\nimport sprite from '../../img/svg-file.svg';\n\nexport default function EmptyFavoritesList() {\n    return (        \n        <WrapperEmptyFavoriteList>\n            <EmptyFavoriteListImg src={imgFavorite} alt=\"car\" width={200} />\n            <EmptyFavoriteListTitle>Keep interesting teachers.</EmptyFavoriteListTitle>\n            <p>Click             \n                <EmptyFavoriteHeart>\n                    <svg width={20} height={20} >\n                        <use href={`${sprite}#icon-normal-heart`} style={{ stroke: 'black' }} />\n                    </svg>\n                </EmptyFavoriteHeart>\n             on the ad that interests you and we will save it here</p>\n        </WrapperEmptyFavoriteList> \n    );\n}","import FilterMenu from \"components/FilterMenu/FilterMenu\";\nimport { FavoritePageContainer, WraperBox } from \"./FavoritePage.style\";\nimport TeacherCard from \"components/TeacherCard/TeacherCard\";\nimport { auth } from '../../firebase';\nimport { useCallback, useEffect, useState } from \"react\";\nimport { onAuthStateChanged } from \"firebase/auth\";\nimport BtnLoadMore from \"components/BtnLoadMore/BtnLoadMore\";\nimport EmptyFavoritesList from \"components/EmptyFavoritesList/EmptyFavoritesList\";\nimport { NotFound } from \"components/TechersPage/TeachersPage.styled\";\nimport { isEqual } from \"lodash\";\n\nexport default function FavoritePage() {\n  const [favoriteTeachers, setFavoriteTeachers] = useState([]);\n  const [visibleTeachers, setVisibleTeachers] = useState(4);\n  const [allFavorits, setallFavorits] = useState([]);\n  const [resultsFound, setResultsFound] = useState(true);\n\n  const fetchData = useCallback(() => {\n    try {\n      const user = auth.currentUser;\n      if (user) {\n        const userId = user.uid;\n        const storedFavorites = JSON.parse(localStorage.getItem(`favorites-${userId}`)) || [];\n        setallFavorits(storedFavorites);\n        setFavoriteTeachers(storedFavorites.slice(0, visibleTeachers));\n      }\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    }\n  }, [visibleTeachers]);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      if (user) {\n        fetchData();\n      }\n    });\n  \n    return () => unsubscribe(); \n  }, [visibleTeachers, fetchData]);\n\n  const handleLoadMore = () => {\n    const userId = auth.currentUser?.uid;\n    const storedFavorites = JSON.parse(localStorage.getItem(`favorites-${userId}`)) || [];\n    const newVisibleTeachers = storedFavorites.slice(\n      visibleTeachers,\n      visibleTeachers + 4\n    );\n    setFavoriteTeachers((prevTeachers) => [...prevTeachers, ...newVisibleTeachers]);\n    setVisibleTeachers((prevVisibleTeachers) => prevVisibleTeachers + 4);\n  };\n  const handleFavorite = () => {\n    fetchData();\n  };\n  \n  const resetTeachers = () => {    \n    fetchData();\n    setResultsFound(true);\n  };\n  \n  const handlerSetTeachers = (e) => {\n    const isTeacherInList = allFavorits.filter(favoriteTeacher => (\n      e.some(selectedTeacher => isEqual(selectedTeacher, favoriteTeacher))\n    ));\n\n    if (!isEqual(favoriteTeachers, isTeacherInList)) {\n      setFavoriteTeachers(isTeacherInList);\n    }\n  };\n\n    return (   \n      <WraperBox>\n        <FavoritePageContainer>\n            <FilterMenu setTeachers={handlerSetTeachers} onResultsFoundChange={(e) => setResultsFound(e)} onReset={resetTeachers} />\n            \n            { !favoriteTeachers.length && resultsFound &&  <EmptyFavoritesList /> }\n\n            <ul>\n              {favoriteTeachers.map((teacher, index) => {\n                    return <TeacherCard key={index} teacher={teacher} handleFavorite={handleFavorite} sourceComponent=\"FavoritePage\" />;\n              })}\n            </ul>\n\n            {!resultsFound && <NotFound>This is all we managed to find</NotFound>}\n\n            {favoriteTeachers.length < visibleTeachers  || allFavorits.length === visibleTeachers ? null : (\n              resultsFound ?  <BtnLoadMore  handleLoadMore={handleLoadMore} /> : null\n            )}\n        </FavoritePageContainer> \n      </WraperBox>      \n    );\n}\n  \n\n\n","import FavoritePage from \"components/FavoritePage/FavoritePage\";\n\nexport default function Favorites() {  \n  return (\n    <FavoritePage />\n  );\n}"],"names":["WraperBox","styled","_templateObject","_taggedTemplateLiteral","color","FavoritePageContainer","_templateObject2","WrapperEmptyFavoriteList","EmptyFavoriteListImg","EmptyFavoriteListTitle","_templateObject3","EmptyFavoriteHeart","_templateObject4","EmptyFavoritesList","_jsxs","children","_jsx","src","imgFavorite","alt","width","height","href","concat","sprite","style","stroke","FavoritePage","_useState","useState","_useState2","_slicedToArray","favoriteTeachers","setFavoriteTeachers","_useState3","_useState4","visibleTeachers","setVisibleTeachers","_useState5","_useState6","allFavorits","setallFavorits","_useState7","_useState8","resultsFound","setResultsFound","fetchData","useCallback","user","auth","userId","uid","storedFavorites","JSON","parse","localStorage","getItem","slice","error","console","useEffect","unsubscribe","onAuthStateChanged","handleFavorite","FilterMenu","setTeachers","e","isTeacherInList","filter","favoriteTeacher","some","selectedTeacher","isEqual","onResultsFoundChange","onReset","length","map","teacher","index","TeacherCard","sourceComponent","NotFound","BtnLoadMore","handleLoadMore","_auth$currentUser","newVisibleTeachers","prevTeachers","_toConsumableArray","prevVisibleTeachers","Favorites"],"sourceRoot":""}