{"version":3,"file":"static/js/483.d093dde4.chunk.js","mappings":"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","sources":["components/FavoritePage/FavoritePage.style.js","components/EmptyFavoritesList/EmptyFavoritesList.seled.js","components/EmptyFavoritesList/EmptyFavoritesList.jsx","components/FavoritePage/FavoritePage.jsx","pages/Favorites.jsx"],"sourcesContent":["import color from 'common/GlobalColers'\nimport styled from 'styled-components'\n\nexport const WraperBox = styled.div`\n    display: flex;\n    align-items: center;\n    flex-direction:column; \n    background: ${color.whiteDarker};\n    min-height: 100vh;\n`\n\nexport const FavoritePageContainer = styled.div`\n    display: flex;\n    align-items: start;\n    flex-Direction: column;\n    padding:64px 128px 96px 128px;\n    max-width: 1440px;\n`","import styled from 'styled-components'\n\nexport const WrapperEmptyFavoriteList = styled.div`\n    display: flex;\n    align-items: center;\n    flex-direction:column;\n    margin: 0 auto;\n    margin-top: 30px;\n`\n\nexport const EmptyFavoriteListImg = styled.img`\n    margin-bottom: 30px;\n`\n\nexport const EmptyFavoriteListTitle = styled.h2`\n    max-width: 300px;\n    margin-bottom: 12px;\n`\n\nexport const EmptyFavoriteHeart = styled.span`\n    margin: 0 4px;\n`","import imgFavorite from '../../img/flying-hearts.png';\nimport { EmptyFavoriteHeart, EmptyFavoriteListImg, EmptyFavoriteListTitle, WrapperEmptyFavoriteList } from './EmptyFavoritesList.seled';\nimport sprite from '../../img/svg-file.svg';\n\nexport default function EmptyFavoritesList() {\n    return (        \n        <WrapperEmptyFavoriteList>\n            <EmptyFavoriteListImg src={imgFavorite} alt=\"car\" width={200} />\n            <EmptyFavoriteListTitle>Keep interesting teachers.</EmptyFavoriteListTitle>\n            <p>Click             \n                <EmptyFavoriteHeart>\n                    <svg width={20} height={20} >\n                        <use href={`${sprite}#icon-normal-heart`} style={{ stroke: 'black' }} />\n                    </svg>\n                </EmptyFavoriteHeart>\n             on the ad that interests you and we will save it here</p>\n        </WrapperEmptyFavoriteList> \n    );\n}","import FilterMenu from \"components/FilterMenu/FilterMenu\";\nimport { FavoritePageContainer, WraperBox } from \"./FavoritePage.style\";\nimport TeacherCard from \"components/TeacherCard/TeacherCard\";\nimport { auth } from '../../firebase';\nimport { useEffect, useState } from \"react\";\nimport { onAuthStateChanged } from \"firebase/auth\";\nimport BtnLoadMore from \"components/BtnLoadMore/BtnLoadMore\";\nimport EmptyFavoritesList from \"components/EmptyFavoritesList/EmptyFavoritesList\";\nimport { NotFound } from \"components/TechersPage/TeachersPage.styled\";\n\nexport default function FavoritePage() {\n  const [teachers, setTeachers] = useState([]);\n  const [favoriteTeachers, setFavoriteTeachers] = useState([]);\n  const [visibleTeachers, setVisibleTeachers] = useState(4);\n  const [allFavorits, setallFavorits] = useState([]);\n  const [resultsFound, setResultsFound] = useState(true);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      if (user) {\n        const userId = user.uid;\n        const storedFavorites = JSON.parse(localStorage.getItem(`favorites-${userId}`)) || [];\n        setallFavorits(storedFavorites)\n        setFavoriteTeachers(storedFavorites.slice(0, visibleTeachers));\n      }\n    });\n  \n    return () => unsubscribe(); \n  }, [visibleTeachers]);\n\n\n  const handleLoadMore = () => {\n    const userId = auth.currentUser?.uid;\n    const storedFavorites = JSON.parse(localStorage.getItem(`favorites-${userId}`)) || [];\n    const newVisibleTeachers = storedFavorites.slice(\n      visibleTeachers,\n      visibleTeachers + 4\n    );\n    setFavoriteTeachers((prevTeachers) => [...prevTeachers, ...newVisibleTeachers]);\n    setVisibleTeachers((prevVisibleTeachers) => prevVisibleTeachers + 4);\n  };\n  const handleFavorite = (e) => {\n    onAuthStateChanged(auth, (user) => {\n      if (user) {\n        const userId = user.uid;\n        const storedFavorites = JSON.parse(localStorage.getItem(`favorites-${userId}`)) || [];\n        setallFavorits(storedFavorites)\n        setFavoriteTeachers(storedFavorites.slice(0, visibleTeachers));\n      }\n    });\n  };\n  \n  const resetTeachers = () => {\n    \n    onAuthStateChanged(auth, (user) => {\n      if (user) {\n        const userId = user.uid;\n        const storedFavorites = JSON.parse(localStorage.getItem(`favorites-${userId}`)) || [];\n        console.log(storedFavorites)\n        setallFavorits(storedFavorites)\n        setFavoriteTeachers(storedFavorites.slice(0, visibleTeachers));\n        setResultsFound(true)\n      }\n    });\n  };\n  console.log(favoriteTeachers)\n\n    return (   \n      <WraperBox>\n        <FavoritePageContainer>\n            <FilterMenu setTeachers={setTeachers} onResultsFoundChange={(e) => setResultsFound(e)} onReset={resetTeachers} />\n            {!resultsFound && <NotFound>Information for your request was not found :(</NotFound>}\n\n            { !favoriteTeachers.length && <EmptyFavoritesList /> }\n\n            <ul>\n              {favoriteTeachers.map((teacher, index) => {\n                console.log(teachers)\n                const isTeacherInList = teachers.some(t => t.avatar_url === teacher.avatar_url);  \n                  if (teachers.length === 0 || isTeacherInList) {\n                    return <TeacherCard key={index} teacher={teacher} handleFavorite={handleFavorite} sourceComponent=\"FavoritePage\" />;\n                  }        \n                return null;\n              })}\n            </ul>\n\n            {favoriteTeachers.length < visibleTeachers  || allFavorits.length === visibleTeachers ? null : (\n              resultsFound ?  <BtnLoadMore  handleLoadMore={handleLoadMore} /> : null\n            )}\n        </FavoritePageContainer> \n      </WraperBox>      \n    );\n}\n  \n","import FavoritePage from \"components/FavoritePage/FavoritePage\";\n\nexport default function Favorites() {  \n  return (\n    <FavoritePage />\n  );\n}"],"names":["WraperBox","styled","_templateObject","_taggedTemplateLiteral","color","FavoritePageContainer","_templateObject2","WrapperEmptyFavoriteList","EmptyFavoriteListImg","EmptyFavoriteListTitle","_templateObject3","EmptyFavoriteHeart","_templateObject4","EmptyFavoritesList","_jsxs","children","_jsx","src","imgFavorite","alt","width","height","href","concat","sprite","style","stroke","FavoritePage","_useState","useState","_useState2","_slicedToArray","teachers","setTeachers","_useState3","_useState4","favoriteTeachers","setFavoriteTeachers","_useState5","_useState6","visibleTeachers","setVisibleTeachers","_useState7","_useState8","allFavorits","setallFavorits","_useState9","_useState10","resultsFound","setResultsFound","useEffect","unsubscribe","onAuthStateChanged","auth","user","userId","uid","storedFavorites","JSON","parse","localStorage","getItem","slice","handleFavorite","e","console","log","FilterMenu","onResultsFoundChange","onReset","NotFound","length","map","teacher","index","isTeacherInList","some","t","avatar_url","TeacherCard","sourceComponent","BtnLoadMore","handleLoadMore","_auth$currentUser","newVisibleTeachers","prevTeachers","_toConsumableArray","prevVisibleTeachers","Favorites"],"sourceRoot":""}