{"version":3,"file":"static/js/729.a6537541.chunk.js","mappings":"uPAGaA,EAAYC,EAAAA,GAAAA,IAAUC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,uFAOtBC,EAAwBH,EAAAA,GAAAA,IAAUI,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,sKAM7BG,EAAAA,EAAAA,a,0DCPH,SAASC,IACtB,IAAAC,GAAgCC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAArCI,EAAQF,EAAA,GAAEG,EAAWH,EAAA,GAE5BI,GAAgDL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAArDE,EAAgBD,EAAA,GAAEE,EAAmBF,EAAA,GAC5CG,GAA8CT,EAAAA,EAAAA,UAAS,GAAEU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAAlDE,EAAeD,EAAA,GAAEE,EAAkBF,EAAA,GAC1CG,GAAsCb,EAAAA,EAAAA,UAAS,IAAGc,GAAAZ,EAAAA,EAAAA,GAAAW,EAAA,GAA3CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,IAElCG,EAAAA,EAAAA,YAAU,WACR,IAAMC,GAAcC,EAAAA,EAAAA,IAAmBC,EAAAA,GAAM,SAACC,GAC5C,GAAIA,EAAM,CACR,IAAMC,EAASD,EAAKE,IACdC,EAAkBC,KAAKC,MAAMC,aAAaC,QAAQ,aAADC,OAAcP,MAAc,GAKnFN,EAAeQ,GACfhB,EAAoBgB,EAAgBM,MAAM,EAAGnB,GAC/C,CACF,IAEA,OAAO,kBAAMO,GAAc,CAC7B,GAAG,CAACP,IAeF,OACEoB,EAAAA,EAAAA,KAACxC,EAAS,CAAAyC,UACRC,EAAAA,EAAAA,MAACtC,EAAqB,CAAAqC,SAAA,EAElBD,EAAAA,EAAAA,KAACG,EAAAA,EAAU,CAAC9B,YAAaA,KAEzB2B,EAAAA,EAAAA,KAAA,MAAAC,SACCzB,EAAiB4B,KAAI,SAACC,EAASC,GAChC,IAAMC,EAAkBnC,EAASoC,MAAK,SAAAC,GAAC,OAAIA,EAAEC,aAAeL,EAAQK,UAAU,IAK5E,OAAwB,IAApBtC,EAASuC,QAAgBJ,GACpBP,EAAAA,EAAAA,KAACY,EAAAA,EAAW,CAAaP,QAASA,GAAhBC,GAEtB,IACT,MAOG9B,EAAiBmC,OAAS/B,GAAoBI,EAAY2B,SAAW/B,EAAkB,MACrFoB,EAAAA,EAAAA,KAACa,EAAAA,EAAW,CAAEC,eArCJ,WAAO,IAADC,EACrBxB,EAAyB,QAAnBwB,EAAG1B,EAAAA,EAAAA,mBAAgB,IAAA0B,OAAA,EAAhBA,EAAkBvB,IAE3BwB,GADkBtB,KAAKC,MAAMC,aAAaC,QAAQ,aAADC,OAAcP,MAAc,IACxCQ,MACzCnB,EACAA,EAAkB,GAEpBH,GAAoB,SAACwC,GAAY,SAAAnB,QAAAoB,EAAAA,EAAAA,GAASD,IAAYC,EAAAA,EAAAA,GAAKF,GAAkB,IAC7EnC,GAAmB,SAACsC,GAAmB,OAAKA,EAAsB,CAAC,GACrE,QAuCF,CChFe,SAASC,IACtB,OACEpB,EAAAA,EAAAA,KAACjC,EAAY,GAEjB,C","sources":["components/FavoritePage/FavoritePage.style.js","components/FavoritePage/FavoritePage.jsx","pages/Favorites.jsx"],"sourcesContent":["import color from 'common/GlobalColers'\nimport styled from 'styled-components'\n\nexport const WraperBox = styled.div`\n    display: flex;\n    align-items: center;\n    flex-direction:column;\n \n`\n\nexport const FavoritePageContainer = styled.div`\n    display: flex;\n    align-items: start;\n    flex-Direction: column;\n    padding:64px 128px 96px 128px;\n    max-width: 1440px;\n    background: ${color.whiteDarker};;\n`","import FilterMenu from \"components/FilterMenu/FilterMenu\";\nimport { FavoritePageContainer, WraperBox } from \"./FavoritePage.style\";\nimport TeacherCard from \"components/TeacherCard/TeacherCard\";\nimport { auth } from '../../firebase';\nimport { useEffect, useState } from \"react\";\nimport { onAuthStateChanged } from \"firebase/auth\";\nimport BtnLoadMore from \"components/BtnLoadMore/BtnLoadMore\";\n\n\nexport default function FavoritePage() {\n  const [teachers, setTeachers] = useState([]);\n\n  const [favoriteTeachers, setFavoriteTeachers] = useState([]);\n  const [visibleTeachers, setVisibleTeachers] = useState(4);\n  const [allFavorits, setallFavorits] = useState([]);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      if (user) {\n        const userId = user.uid;\n        const storedFavorites = JSON.parse(localStorage.getItem(`favorites-${userId}`)) || [];\n        // if (JSON.stringify(allFavorits) !== JSON.stringify(storedFavorites)) {\n        //   setallFavorits(storedFavorites);\n        // }\n        // console.log(storedFavorites);\n        setallFavorits(storedFavorites)\n        setFavoriteTeachers(storedFavorites.slice(0, visibleTeachers));\n      }\n    });\n  \n    return () => unsubscribe(); \n  }, [visibleTeachers]);\n\n\n  const handleLoadMore = () => {\n    const userId = auth.currentUser?.uid;\n    const storedFavorites = JSON.parse(localStorage.getItem(`favorites-${userId}`)) || [];\n    const newVisibleTeachers = storedFavorites.slice(\n      visibleTeachers,\n      visibleTeachers + 4\n    );\n    setFavoriteTeachers((prevTeachers) => [...prevTeachers, ...newVisibleTeachers]);\n    setVisibleTeachers((prevVisibleTeachers) => prevVisibleTeachers + 4);\n  };\n  // console.log(favoriteTeachers.length)\n\n    return (   \n      <WraperBox>\n        <FavoritePageContainer>\n\n            <FilterMenu setTeachers={setTeachers} />\n            \n            <ul>\n            {favoriteTeachers.map((teacher, index) => {\n            const isTeacherInList = teachers.some(t => t.avatar_url === teacher.avatar_url);           \n            // Рендерим только если учитель есть в массиве teachers\n            // console.log(allFavorits.length)\n            // console.log(visibleTeachers)\n\n              if (teachers.length === 0 || isTeacherInList) {\n                return <TeacherCard key={index} teacher={teacher} />;\n              }        \n            return null;\n          })}\n              {/* {favoriteTeachers.map((teacher, index) => (\n                <TeacherCard key={index} teacher={teacher} />\n              ))} */}\n\n            </ul>\n\n            {favoriteTeachers.length < visibleTeachers  || allFavorits.length === visibleTeachers ? null : (\n               <BtnLoadMore  handleLoadMore={handleLoadMore} />\n            )}\n\n                        {/* {favoriteTeachers.length < visibleTeachers  ? (\n              allFavorits.length === visibleTeachers ? null : <BtnLoadMore handleLoadMore={handleLoadMore} />) : (\n               <BtnLoadMore  handleLoadMore={handleLoadMore} />\n            )} */}\n        </FavoritePageContainer> \n      </WraperBox>  \n    \n    );\n}\n  \n","import FavoritePage from \"components/FavoritePage/FavoritePage\";\n\nexport default function Favorites() {  \n  return (\n    <FavoritePage />\n  );\n}"],"names":["WraperBox","styled","_templateObject","_taggedTemplateLiteral","FavoritePageContainer","_templateObject2","color","FavoritePage","_useState","useState","_useState2","_slicedToArray","teachers","setTeachers","_useState3","_useState4","favoriteTeachers","setFavoriteTeachers","_useState5","_useState6","visibleTeachers","setVisibleTeachers","_useState7","_useState8","allFavorits","setallFavorits","useEffect","unsubscribe","onAuthStateChanged","auth","user","userId","uid","storedFavorites","JSON","parse","localStorage","getItem","concat","slice","_jsx","children","_jsxs","FilterMenu","map","teacher","index","isTeacherInList","some","t","avatar_url","length","TeacherCard","BtnLoadMore","handleLoadMore","_auth$currentUser","newVisibleTeachers","prevTeachers","_toConsumableArray","prevVisibleTeachers","Favorites"],"sourceRoot":""}