{"version":3,"file":"static/js/483.bf9f20a3.chunk.js","mappings":"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","sources":["components/FavoritePage/FavoritePage.style.js","components/EmptyFavoritesList/EmptyFavoritesList.seled.js","components/EmptyFavoritesList/EmptyFavoritesList.jsx","components/FavoritePage/FavoritePage.jsx","pages/Favorites.jsx"],"sourcesContent":["import color from 'common/GlobalColers'\nimport styled from 'styled-components'\n\nexport const WraperBox = styled.div`\n    display: flex;\n    align-items: center;\n    flex-direction:column; \n    background: ${color.whiteDarker};\n    min-height: 100vh;\n`\n\nexport const FavoritePageContainer = styled.div`\n    display: flex;\n    align-items: start;\n    flex-Direction: column;\n    padding:64px 128px 96px 128px;\n    max-width: 1440px;\n`","import styled from 'styled-components'\n\nexport const WrapperEmptyFavoriteList = styled.div`\n    display: flex;\n    align-items: center;\n    flex-direction:column;\n    margin: 0 auto;\n    margin-top: 30px;\n`\n\nexport const EmptyFavoriteListImg = styled.img`\n    margin-bottom: 30px;\n`\n\nexport const EmptyFavoriteListTitle = styled.h2`\n    max-width: 300px;\n    margin-bottom: 12px;\n`\n\nexport const EmptyFavoriteHeart = styled.span`\n    margin: 0 4px;\n`","import imgFavorite from '../../img/flying-hearts.png';\nimport { EmptyFavoriteHeart, EmptyFavoriteListImg, EmptyFavoriteListTitle, WrapperEmptyFavoriteList } from './EmptyFavoritesList.seled';\nimport sprite from '../../img/svg-file.svg';\n\nexport default function EmptyFavoritesList() {\n    return (        \n        <WrapperEmptyFavoriteList>\n            <EmptyFavoriteListImg src={imgFavorite} alt=\"car\" width={200} />\n            <EmptyFavoriteListTitle>Keep interesting teachers.</EmptyFavoriteListTitle>\n            <p>Click             \n                <EmptyFavoriteHeart>\n                    <svg width={20} height={20} >\n                        <use href={`${sprite}#icon-normal-heart`} style={{ stroke: 'black' }} />\n                    </svg>\n                </EmptyFavoriteHeart>\n             on the ad that interests you and we will save it here</p>\n        </WrapperEmptyFavoriteList> \n    );\n}","import FilterMenu from \"components/FilterMenu/FilterMenu\";\nimport { FavoritePageContainer, WraperBox } from \"./FavoritePage.style\";\nimport TeacherCard from \"components/TeacherCard/TeacherCard\";\nimport { auth } from '../../firebase';\nimport { useEffect, useState } from \"react\";\nimport { onAuthStateChanged } from \"firebase/auth\";\nimport BtnLoadMore from \"components/BtnLoadMore/BtnLoadMore\";\nimport EmptyFavoritesList from \"components/EmptyFavoritesList/EmptyFavoritesList\";\nimport { NotFound } from \"components/TechersPage/TeachersPage.styled\";\nimport { isEqual } from \"lodash\";\n\nexport default function FavoritePage() {\n  const [favoriteTeachers, setFavoriteTeachers] = useState([]);\n  const [visibleTeachers, setVisibleTeachers] = useState(4);\n  const [allFavorits, setallFavorits] = useState([]);\n  const [resultsFound, setResultsFound] = useState(true);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      if (user) {\n        const userId = user.uid;\n        const storedFavorites = JSON.parse(localStorage.getItem(`favorites-${userId}`)) || [];\n        setallFavorits(storedFavorites)\n        setFavoriteTeachers(storedFavorites.slice(0, visibleTeachers));\n      }\n    });\n  \n    return () => unsubscribe(); \n  }, [visibleTeachers]);\n\n  const handleLoadMore = () => {\n    const userId = auth.currentUser?.uid;\n    const storedFavorites = JSON.parse(localStorage.getItem(`favorites-${userId}`)) || [];\n    const newVisibleTeachers = storedFavorites.slice(\n      visibleTeachers,\n      visibleTeachers + 4\n    );\n    setFavoriteTeachers((prevTeachers) => [...prevTeachers, ...newVisibleTeachers]);\n    setVisibleTeachers((prevVisibleTeachers) => prevVisibleTeachers + 4);\n  };\n  const handleFavorite = (e) => {\n    onAuthStateChanged(auth, (user) => {\n      if (user) {\n        const userId = user.uid;\n        const storedFavorites = JSON.parse(localStorage.getItem(`favorites-${userId}`)) || [];\n        setallFavorits(storedFavorites)\n        setFavoriteTeachers(storedFavorites.slice(0, visibleTeachers));\n      }\n    });\n  };\n  \n  const resetTeachers = () => {    \n    onAuthStateChanged(auth, (user) => {\n      if (user) {\n        const userId = user.uid;\n        const storedFavorites = JSON.parse(localStorage.getItem(`favorites-${userId}`)) || [];\n         \n        setallFavorits(storedFavorites)\n        setFavoriteTeachers(storedFavorites.slice(0, visibleTeachers));\n        setResultsFound(true)\n      }\n    });\n  };\n  \n  const handlerSetTeachers = (e) => {\n    const isTeacherInList = allFavorits.filter(favoriteTeacher => (\n      e.some(selectedTeacher => isEqual(selectedTeacher, favoriteTeacher))\n    ));\n\n    if (!isEqual(favoriteTeachers, isTeacherInList)) {\n      setFavoriteTeachers(isTeacherInList);\n    }\n  };\n\n\n    return (   \n      <WraperBox>\n        <FavoritePageContainer>\n            <FilterMenu setTeachers={handlerSetTeachers} onResultsFoundChange={(e) => setResultsFound(e)} onReset={resetTeachers} />\n            {!resultsFound && <NotFound>This is all we managed to find</NotFound>}\n\n            { !favoriteTeachers.length && resultsFound &&  <EmptyFavoritesList /> }\n\n            <ul>\n              {favoriteTeachers.map((teacher, index) => {\n                    return <TeacherCard key={index} teacher={teacher} handleFavorite={handleFavorite} sourceComponent=\"FavoritePage\" />;\n              })}\n            </ul>\n\n            {favoriteTeachers.length < visibleTeachers  || allFavorits.length === visibleTeachers ? null : (\n              resultsFound ?  <BtnLoadMore  handleLoadMore={handleLoadMore} /> : null\n            )}\n        </FavoritePageContainer> \n      </WraperBox>      \n    );\n}\n  \n","import FavoritePage from \"components/FavoritePage/FavoritePage\";\n\nexport default function Favorites() {  \n  return (\n    <FavoritePage />\n  );\n}"],"names":["WraperBox","styled","_templateObject","_taggedTemplateLiteral","color","FavoritePageContainer","_templateObject2","WrapperEmptyFavoriteList","EmptyFavoriteListImg","EmptyFavoriteListTitle","_templateObject3","EmptyFavoriteHeart","_templateObject4","EmptyFavoritesList","_jsxs","children","_jsx","src","imgFavorite","alt","width","height","href","concat","sprite","style","stroke","FavoritePage","_useState","useState","_useState2","_slicedToArray","favoriteTeachers","setFavoriteTeachers","_useState3","_useState4","visibleTeachers","setVisibleTeachers","_useState5","_useState6","allFavorits","setallFavorits","_useState7","_useState8","resultsFound","setResultsFound","useEffect","unsubscribe","onAuthStateChanged","auth","user","userId","uid","storedFavorites","JSON","parse","localStorage","getItem","slice","handleFavorite","e","FilterMenu","setTeachers","isTeacherInList","filter","favoriteTeacher","some","selectedTeacher","isEqual","onResultsFoundChange","onReset","NotFound","length","map","teacher","index","TeacherCard","sourceComponent","BtnLoadMore","handleLoadMore","_auth$currentUser","newVisibleTeachers","prevTeachers","_toConsumableArray","prevVisibleTeachers","Favorites"],"sourceRoot":""}